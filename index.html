<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CollabX MA - The Future of Influence</title>
    <link rel="icon" href="https://image2url.com/r2/default/images/1767451400680-518be12a-9f56-4c20-991c-32ca83b61e11.png" type="image/png">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Three.js for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Vanilla Tilt for 3D Cards -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>
    <!-- Instagram Embed Script -->
    <script async src="//www.instagram.com/embed.js"></script>

    <style>
        :root {
            --primary: #7c3aed; /* Violet */
            --secondary: #2563eb; /* Blue */
            --dark: #0f172a;
            
            /* Light Mode Variables */
            --bg-primary: #f8fafc;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f1f5f9;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --text-tertiary: #64748b;
            --border-color: rgba(255, 255, 255, 0.5);
            --glass-bg: rgba(255, 255, 255, 0.7);
            --card-bg: #ffffff;
            --nav-bg: rgba(255, 255, 255, 0.7);
        }
        
        [data-theme="dark"] {
            /* Dark Mode Variables */
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f1f5f9;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --border-color: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(30, 41, 59, 0.7);
            --card-bg: #1e293b;
            --nav-bg: rgba(30, 41, 59, 0.7);
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Space Grotesk', sans-serif;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--bg-tertiary);
        }
        ::-webkit-scrollbar-thumb {
            background: var(--text-tertiary);
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* 3D & Animations */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
            opacity: 0.6; /* Default for light mode */
            pointer-events: none;
        }
        
        /* Make canvas fully visible in dark mode - CRITICAL for particle visibility */
        [data-theme="dark"] #canvas-container {
            opacity: 1.0 !important;
            z-index: 0 !important;
        }
        
        /* Ensure canvas element itself is fully visible in dark mode */
        [data-theme="dark"] #canvas-container canvas {
            opacity: 1.0 !important;
            display: block !important;
            visibility: visible !important;
            pointer-events: none;
        }
        
        /* Light mode canvas opacity */
        [data-theme="light"] #canvas-container {
            opacity: 0.6;
        }
        
        /* Additional class-based override for dark mode */
        #canvas-container.dark-mode-canvas {
            opacity: 1.0 !important;
            z-index: 0 !important;
        }
        
        #canvas-container.dark-mode-canvas canvas {
            opacity: 1.0 !important;
        }
        
        /* Ensure home-view content is above canvas */
        #home-view > *:not(#canvas-container) {
            position: relative;
            z-index: 1;
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-color);
        }

        .card-3d {
            transform-style: preserve-3d;
            transform: perspective(1000px);
        }
        
        .floating-anim {
            animation: float 6s ease-in-out infinite;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        /* Brand Marquee Animation */
        .marquee-container {
            overflow: hidden;
            white-space: nowrap;
            position: relative;
        }
        .marquee-content {
            display: inline-flex;
            animation: marquee 40s linear infinite;
        }
        .marquee-content:hover {
            animation-play-state: paused;
        }
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        
        /* Theme-aware transitions */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        
        /* Dark mode specific styles */
        [data-theme="dark"] .glass-panel {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        
        [data-theme="dark"] .card-3d {
            background: var(--card-bg);
            border-color: var(--border-color);
        }
        
        /* Dark mode utility classes */
        [data-theme="dark"] .dark-mode-text {
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .dark-mode-bg {
            background-color: var(--bg-secondary);
        }
        
        [data-theme="dark"] .dark-mode-hover:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .dark-mode-dropdown {
            background-color: var(--bg-secondary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .dark-mode-mobile-menu {
            background-color: var(--bg-secondary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .theme-toggle-btn {
            color: var(--text-primary);
            background-color: var(--bg-tertiary);
        }
        
        [data-theme="dark"] .theme-toggle-btn:hover {
            background-color: var(--bg-tertiary);
            opacity: 0.8;
        }
        
        [data-theme="light"] .theme-toggle-btn {
            color: var(--text-secondary);
            background-color: var(--bg-tertiary);
        }
        
        [data-theme="light"] .theme-toggle-btn:hover {
            background-color: var(--bg-tertiary);
            opacity: 0.8;
        }
        
        /* Update text colors for dark mode */
        [data-theme="dark"] h1, 
        [data-theme="dark"] h2, 
        [data-theme="dark"] h3, 
        [data-theme="dark"] h4, 
        [data-theme="dark"] h5, 
        [data-theme="dark"] h6 {
            color: var(--text-primary);
        }
        
        /* Update section backgrounds */
        [data-theme="dark"] section {
            background-color: var(--bg-primary);
        }
        
        /* Update input and form elements */
        [data-theme="dark"] input,
        [data-theme="dark"] select,
        [data-theme="dark"] textarea {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] input::placeholder,
        [data-theme="dark"] textarea::placeholder {
            color: var(--text-tertiary);
        }
        
        /* Update cards and panels */
        [data-theme="dark"] .glass-panel,
        [data-theme="dark"] .bg-white,
        [data-theme="dark"] .dark-mode-card {
            background-color: var(--card-bg);
        }
        
        /* Brand marquee dark mode */
        [data-theme="dark"] .marquee-container span {
            color: var(--text-secondary);
        }
        
        [data-theme="dark"] .marquee-container span:hover {
            color: var(--text-primary);
        }
        
        /* Comprehensive color updates for dark mode */
        
        /* Navbar */
        [data-theme="dark"] nav {
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .nav-link {
            color: var(--text-secondary);
        }
        
        [data-theme="dark"] .nav-link:hover {
            color: var(--text-primary);
            background-color: var(--bg-tertiary);
        }
        
        /* Text colors */
        [data-theme="dark"] .text-slate-600,
        [data-theme="dark"] .text-slate-700,
        [data-theme="dark"] .text-slate-800,
        [data-theme="dark"] .text-slate-900 {
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .text-slate-400,
        [data-theme="dark"] .text-slate-500 {
            color: var(--text-secondary);
        }
        
        /* Background colors */
        [data-theme="dark"] .bg-slate-50,
        [data-theme="dark"] .bg-slate-100 {
            background-color: var(--bg-tertiary);
        }
        
        /* Border colors */
        [data-theme="dark"] .border-slate-100,
        [data-theme="dark"] .border-slate-200 {
            border-color: var(--border-color);
        }
        
        /* Hero section */
        [data-theme="dark"] .hero-badge {
            background-color: var(--glass-bg);
            border-color: var(--border-color);
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .hero-text {
            color: var(--text-secondary);
        }
        
        /* Stats cards */
        [data-theme="dark"] .stats-card-number {
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .stats-card-label {
            color: var(--text-secondary);
        }
        
        /* Buttons */
        [data-theme="dark"] .btn-secondary {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .btn-secondary:hover {
            background-color: var(--bg-tertiary);
        }
        
        /* Catalog section */
        [data-theme="dark"] .search-input {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .filter-btn {
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            border-color: var(--border-color);
        }
        
        [data-theme="dark"] .filter-btn.active {
            background-color: var(--text-primary);
            color: var(--bg-primary);
        }
        
        [data-theme="dark"] .filter-btn:hover:not(.active) {
            background-color: var(--bg-tertiary);
        }
        
        /* Links and hover states */
        [data-theme="dark"] a:hover {
            color: var(--text-primary);
        }
        
        /* Section headings */
        [data-theme="dark"] .section-heading {
            color: var(--text-primary);
        }
        
        [data-theme="dark"] .section-subheading {
            color: var(--text-secondary);
        }
        
        /* Form labels */
        [data-theme="dark"] label {
            color: var(--text-secondary);
        }
        
        /* Mobile menu button */
        [data-theme="dark"] .mobile-menu-btn {
            color: var(--text-secondary);
        }
        
        /* Footer - keep dark in dark mode */
        [data-theme="dark"] footer {
            background-color: #000000;
        }
        
        /* View all link */
        [data-theme="dark"] .view-all-link {
            color: var(--text-primary);
            border-color: var(--text-primary);
        }
        
        [data-theme="dark"] .view-all-link:hover {
            color: var(--primary);
            border-color: var(--primary);
        }
        
        /* Filter button active states */
        [data-theme="dark"] .filter-btn.active,
        [data-theme="light"] .filter-btn.active {
            background-color: var(--text-primary) !important;
            color: var(--bg-primary) !important;
        }
        
        /* Search icon color */
        [data-theme="dark"] #searchInput::placeholder {
            color: var(--text-tertiary);
        }
        
        /* Form card styling */
        [data-theme="dark"] .form-card {
            background-color: var(--card-bg);
            border-color: var(--border-color);
        }
        
        /* Brand marquee container dark mode */
        [data-theme="dark"] .marquee-container .bg-slate-100,
        [data-theme="dark"] .marquee-container .border-slate-200 {
            background-color: var(--bg-tertiary);
            border-color: var(--border-color);
        }
        
        /* Primary button text color */
        [data-theme="dark"] .btn-primary {
            color: var(--bg-primary) !important;
        }
        
        [data-theme="light"] .btn-primary {
            color: #ffffff !important;
        }
        
        /* Ensure button text is visible */
        .btn-primary {
            color: var(--bg-primary);
        }
    </style>
</head>
<body class="antialiased selection:bg-purple-200 selection:text-purple-900 transition-all duration-300" data-theme="light">

    <!-- NAVBAR -->
    <nav class="fixed w-full z-50 glass-panel transition-all duration-300" style="border-bottom: 1px solid var(--border-color);">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex items-center gap-2 cursor-pointer" onclick="showSection('home')">
                    <!-- LOGO IMAGE - Dynamic based on theme -->
                    <img id="logo-main" src="Logo_collabx.png" class="h-10 w-auto object-contain transition-opacity duration-300" alt="CollabX Logo">
                </div>

                <div class="hidden md:flex items-center space-x-1">
                    <button onclick="showSection('home')" class="nav-link px-4 py-2 text-sm font-medium rounded-lg transition-colors" style="color: var(--text-secondary);" data-i18n="nav_home">Home</button>
                    <button onclick="showSection('catalog')" class="nav-link px-4 py-2 text-sm font-medium rounded-lg transition-colors" style="color: var(--text-secondary);" data-i18n="nav_catalog">Creators Catalog</button>
                    
                    <!-- Theme Toggle Button -->
                    <button onclick="toggleTheme()" class="px-3 py-2 text-sm font-medium rounded-lg transition-colors theme-toggle-btn" aria-label="Toggle theme">
                        <i data-lucide="sun" id="theme-icon" class="w-5 h-5"></i>
                    </button>
                    
                    <!-- Language Switcher -->
                    <div class="relative ml-4 group">
                        <button class="flex items-center gap-1 px-3 py-2 text-sm font-bold rounded-lg transition-colors" style="color: var(--text-secondary); background-color: var(--bg-tertiary);">
                            <i data-lucide="globe" class="w-4 h-4"></i> <span id="current-lang">FR</span>
                        </button>
                        <div class="absolute right-0 top-full mt-2 w-32 rounded-xl shadow-xl hidden group-hover:block p-1 dark-mode-dropdown" style="background-color: var(--bg-secondary); border: 1px solid var(--border-color);">
                            <button onclick="setLanguage('fr')" class="block w-full text-left px-3 py-2 text-sm font-medium rounded-lg dark-mode-text dark-mode-hover" style="color: var(--text-secondary);">Français</button>
                            <button onclick="setLanguage('en')" class="block w-full text-left px-3 py-2 text-sm font-medium rounded-lg dark-mode-text dark-mode-hover" style="color: var(--text-secondary);">English</button>
                            <button onclick="setLanguage('ar')" class="block w-full text-right px-3 py-2 text-sm font-bold rounded-lg font-sans dark-mode-text dark-mode-hover" style="color: var(--text-secondary);">العربية</button>
                        </div>
                    </div>
                </div>

                <div class="flex items-center gap-4">
                    <!-- WHATSAPP BUTTON -->
                    <a href="https://wa.me/212615191083" target="_blank" class="hidden md:flex items-center gap-2 bg-[#25D366] text-white px-6 py-2.5 rounded-xl text-sm font-bold hover:bg-green-600 transition-all shadow-lg hover:shadow-green-500/25 hover:-translate-y-0.5">
                        <i data-lucide="message-circle" class="w-4 h-4"></i> <span data-i18n="btn_join">Join Now</span>
                    </a>
                    <button class="md:hidden mobile-menu-btn transition-colors" style="color: var(--text-secondary);" onclick="toggleMobileMenu()">
                        <i data-lucide="menu" id="mobile-menu-icon" class="w-7 h-7"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden absolute top-20 left-0 w-full p-4 shadow-xl flex flex-col gap-2 dark-mode-mobile-menu" style="background-color: var(--bg-secondary); border-bottom: 1px solid var(--border-color);">
            <button onclick="showSection('home'); toggleMobileMenu()" class="p-3 text-left font-bold dark-mode-text transition-colors" style="color: var(--text-primary);" data-i18n="nav_home">Home</button>
            <button onclick="showSection('catalog'); toggleMobileMenu()" class="p-3 text-left font-bold dark-mode-text transition-colors" style="color: var(--text-primary);" data-i18n="nav_catalog">Catalog</button>
            <button onclick="showSection('brand-form'); toggleMobileMenu()" class="p-3 text-left font-bold dark-mode-text transition-colors" style="color: var(--text-primary);" data-i18n="btn_brand">Join as Brand</button>
            <button onclick="showSection('creator-form'); toggleMobileMenu()" class="p-3 text-left font-bold dark-mode-text transition-colors" style="color: var(--text-primary);" data-i18n="btn_creator">Join as Creator</button>
            <div class="flex gap-2 p-3">
                <button onclick="toggleTheme()" class="px-3 py-1 rounded text-xs font-bold dark-mode-bg dark-mode-text flex items-center gap-1 transition-colors" style="background-color: var(--bg-tertiary); color: var(--text-primary);">
                    <i data-lucide="sun" id="theme-icon-mobile" class="w-4 h-4"></i> Theme
                </button>
                <button onclick="setLanguage('fr')" class="px-3 py-1 rounded text-xs font-bold dark-mode-bg dark-mode-text transition-colors" style="background-color: var(--bg-tertiary); color: var(--text-primary);">FR</button>
                <button onclick="setLanguage('en')" class="px-3 py-1 rounded text-xs font-bold dark-mode-bg dark-mode-text transition-colors" style="background-color: var(--bg-tertiary); color: var(--text-primary);">EN</button>
                <button onclick="setLanguage('ar')" class="px-3 py-1 rounded text-xs font-bold dark-mode-bg dark-mode-text transition-colors" style="background-color: var(--bg-tertiary); color: var(--text-primary);">AR</button>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="relative pt-20 min-h-screen">
        
        <!-- HOME SECTION -->
        <section id="home-view" class="relative" style="background: transparent;">
            <!-- 3D Background Canvas -->
            <div id="canvas-container"></div>

            <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-16 flex flex-col items-center text-center">
                
                <div class="hero-badge inline-flex items-center gap-2 px-4 py-1.5 rounded-full backdrop-blur-md text-xs font-bold mb-6 shadow-sm animate-fade-in-up" style="background-color: var(--glass-bg); border: 1px solid var(--border-color); color: var(--text-primary);">
                    <span class="relative flex h-2.5 w-2.5">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-green-500"></span>
                    </span>
                    #1 Moroccan Influencer Data Platform
                </div>

                <h1 class="text-5xl md:text-7xl font-bold tracking-tighter mb-5 leading-tight" style="color: var(--text-primary);">
                    <span data-i18n="hero_title_1">Connect.</span> <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 via-pink-500 to-blue-600" data-i18n="hero_title_2">Inspire.</span><br>
                    <span data-i18n="hero_title_3">Perform.</span>
                </h1>

                <p class="hero-text max-w-xl text-lg mb-8 leading-relaxed font-light" style="color: var(--text-secondary);" data-i18n="hero_desc">
                    The most advanced influencer catalog in Morocco. Categorized by AI, sorted by Impact. Find your perfect match from Nano to Mega stars.
                </p>

                <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">
                    <button onclick="showSection('brand-form')" class="btn-primary px-8 py-3.5 rounded-2xl font-bold transition-all shadow-xl shadow-purple-900/20 flex items-center justify-center gap-2 group hover:-translate-y-1" style="background-color: var(--text-primary); color: var(--bg-primary);">
                        <span data-i18n="btn_brand">Join as Brand</span>
                        <i data-lucide="arrow-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform rtl:rotate-180"></i>
                    </button>
                    <button onclick="showSection('creator-form')" class="btn-secondary px-8 py-3.5 rounded-2xl font-bold transition-all shadow-lg flex items-center justify-center gap-2 hover:-translate-y-1" style="background-color: var(--bg-secondary); color: var(--text-primary); border: 1px solid var(--border-color);">
                         <span data-i18n="btn_creator">Join as Creator</span>
                    </button>
                </div>

                <!-- Floating Cards Stats -->
                <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-5 w-full max-w-4xl">
                    <div class="glass-panel p-5 rounded-2xl text-center floating-anim" style="animation-delay: 0s;">
                        <div class="stats-card-number text-2xl font-bold mb-1" style="color: var(--text-primary);">100+</div>
                        <div class="stats-card-label text-sm font-medium" style="color: var(--text-secondary);" data-i18n="stat_creators">Curated Creators</div>
                    </div>
                    <div class="glass-panel p-5 rounded-2xl text-center floating-anim" style="animation-delay: 1s;">
                        <div class="stats-card-number text-2xl font-bold mb-1" style="color: var(--text-primary);">4 Tiers</div>
                        <div class="stats-card-label text-sm font-medium" style="color: var(--text-secondary);" data-i18n="stat_tiers">Nano • Micro • Macro • Mega</div>
                    </div>
                    <div class="glass-panel p-5 rounded-2xl text-center floating-anim" style="animation-delay: 2s;">
                        <div class="stats-card-number text-2xl font-bold mb-1" style="color: var(--text-primary);" data-i18n="stat_ai">Gender Filter</div>
                        <div class="stats-card-label text-sm font-medium" style="color: var(--text-secondary);" data-i18n="stat_matching">Hommes • Femmes</div>
                    </div>
                </div>
            </div>

            <!-- TRUSTED BY BRANDS SECTION -->
            <section id="brands" class="py-10 overflow-hidden relative z-10" style="background-color: var(--bg-secondary); border-top: 1px solid var(--border-color); border-bottom: 1px solid var(--border-color);">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8 text-center">
                    <h2 class="section-subheading text-xs font-bold uppercase tracking-widest" style="color: var(--text-secondary);" data-i18n="trusted_by">Trusted By Leading Brands</h2>
                </div>
                
                <div class="marquee-container">
                    <div class="marquee-content" id="brand-marquee">
                        <!-- Filled by JS -->
                    </div>
                </div>
            </section>
            
            <!-- TOP TALENTS SECTION -->
            <section class="py-12 relative z-10 backdrop-blur-sm" style="background-color: var(--bg-secondary);">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center mb-10">
                        <h2 class="text-xs font-bold text-purple-600 uppercase tracking-widest mb-2">Sneak Peek</h2>
                        <h3 class="section-heading text-3xl md:text-4xl font-bold" style="color: var(--text-primary);" data-i18n="top_talents">Top Talents</h3>
                    </div>
                    <div id="top-talents-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                        <!-- Filled by JS -->
                    </div>
                    <div class="text-center">
                        <button onclick="showSection('catalog')" class="view-all-link inline-flex items-center gap-2 font-bold border-b-2 transition-all pb-1 text-sm" style="color: var(--text-primary); border-bottom-color: var(--text-primary);">
                            <span data-i18n="view_all">View All 100+ Influencers</span> <i data-lucide="arrow-right" class="w-4 h-4 rtl:rotate-180"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- FOOTER -->
            <footer class="pt-12 pb-6" style="background-color: var(--bg-primary); color: var(--text-primary);">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
                        
                        <!-- About / Services -->
                        <div class="col-span-1 lg:col-span-2">
                            <div class="flex items-center gap-2 mb-4">
                                <!-- Only Logo - Dynamic based on theme -->
                                <img id="logo-footer" src="Logo_collabx.png" class="h-6 w-auto object-contain transition-opacity duration-300" alt="CollabX Logo">
                            </div>
                            <p class="leading-relaxed mb-4 max-w-md text-sm" style="color: var(--text-secondary);" data-i18n="footer_desc">
                                CollabX est la plateforme leader au Maroc pour le marketing d'influence. Nous connectons les marques les plus ambitieuses avec les créateurs de contenu les plus performants. De la stratégie à l'exécution, nous gérons vos campagnes pour un impact maximal et un ROI garanti.
                            </p>
                        </div>

                        <!-- Contacts: Ahmed -->
                        <div>
                            <h4 class="font-bold text-base mb-4" style="color: var(--text-primary);" data-i18n="footer_direction">Direction</h4>
                            <div class="space-y-3">
                                <div>
                                    <p class="text-[10px] text-purple-400 font-bold uppercase tracking-wider mb-1">CEO & Founder</p>
                                    <h5 class="font-bold text-sm" style="color: var(--text-primary);">Ahmed Tayane</h5>
                                    <a href="https://wa.me/212615191083" target="_blank" class="flex items-center gap-2 hover:text-[#25D366] transition-colors mt-1 text-sm" style="color: var(--text-secondary);">
                                        <i data-lucide="message-circle" class="w-3.5 h-3.5"></i> +212 615-191083
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Contacts: Reda -->
                        <div>
                            <h4 class="font-bold text-base mb-4" style="color: var(--text-primary);" data-i18n="footer_partnership">Partenariat</h4>
                            <div class="space-y-3">
                                <div>
                                    <p class="text-[10px] text-blue-400 font-bold uppercase tracking-wider mb-1">Co-Founder</p>
                                    <h5 class="font-bold text-sm" style="color: var(--text-primary);">Reda Ouchettou</h5>
                                    <a href="https://wa.me/212690163816" target="_blank" class="flex items-center gap-2 hover:text-[#25D366] transition-colors mt-1 text-sm" style="color: var(--text-secondary);">
                                        <i data-lucide="message-circle" class="w-3.5 h-3.5"></i> +212 690-163816
                                    </a>
                                </div>
                                <div>
                                    <p class="text-[10px] text-green-400 font-bold uppercase tracking-wider mb-1">Helper</p>
                                    <h5 class="font-bold text-sm" style="color: var(--text-primary);">Mohamed Bouzakraoui</h5>
                                    <a href="https://wa.me/212638632121" target="_blank" class="flex items-center gap-2 hover:text-[#25D366] transition-colors mt-1 text-sm" style="color: var(--text-secondary);">
                                        <i data-lucide="message-circle" class="w-3.5 h-3.5"></i> +212 638-632121
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="border-t pt-6 flex flex-col md:flex-row justify-between items-center gap-4" style="border-color: var(--border-color);">
                        <p class="text-xs" style="color: var(--text-tertiary);">© 2026 CollabX MA. Tous droits réservés.</p>
                        <div class="flex gap-4">
                            <a href="https://instagram.com/collabx.ma" target="_blank" class="hover:text-[#25D366] transition-colors flex items-center gap-2 text-sm font-medium" style="color: var(--text-tertiary);">
                                <i data-lucide="instagram" class="w-4 h-4"></i> @collabx.ma
                            </a>
                        </div>
                    </div>
                </div>
            </footer>
            
            <!-- Bottom Image -->
            <div class="w-full py-8 flex justify-center" style="background-color: var(--bg-primary);">
                <img id="footer-art" src="https://image2url.com/r2/default/images/1767451458351-960b5df2-c9bd-4ecc-8343-0c4f56e5ce5e.png" class="max-w-2xl w-full h-auto object-contain opacity-90 transition-opacity duration-300" alt="CollabX Footer Art">
            </div>
        </section>

        <!-- CATALOG SECTION -->
        <section id="catalog-view" class="hidden min-h-screen bg-slate-50/50 backdrop-blur-sm relative z-20" style="background-color: var(--bg-primary);">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
                
                <div class="flex flex-col md:flex-row justify-between items-end mb-8 gap-4">
                    <div>
                        <h2 class="section-heading text-4xl font-bold mb-2" style="color: var(--text-primary);" data-i18n="catalog_title">Creator Catalog</h2>
                        <p class="section-subheading" style="color: var(--text-secondary);" data-i18n="catalog_desc">Discover Morocco's finest talent.</p>
                    </div>
                    
                    <!-- Search Bar -->
                    <div class="w-full md:w-96 relative">
                        <i data-lucide="search" class="absolute left-4 top-3.5 w-5 h-5" style="color: var(--text-tertiary);"></i>
                        <input type="text" id="searchInput" onkeyup="filterInfluencers()" placeholder="Search..." class="search-input w-full pl-12 pr-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none shadow-sm transition-all" style="background-color: var(--bg-secondary); color: var(--text-primary); border-color: var(--border-color);">
                    </div>
                </div>

                <!-- Advanced Filters -->
                <div class="mb-8 space-y-6">
                    
                    <!-- Gender Filter -->
                    <div class="flex flex-col gap-3">
                        <span class="section-subheading text-xs font-bold uppercase tracking-wider" style="color: var(--text-secondary);" data-i18n="filter_gender">Catégorie (Genre):</span>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="filterByGender('all')" class="filter-btn filter-btn-gender active px-5 py-2.5 rounded-xl text-sm font-bold border transition-all shadow-sm" style="background-color: var(--text-primary); color: var(--bg-primary); border-color: var(--text-primary);">Tous</button>
                            <button onclick="filterByGender('Femmes')" class="filter-btn filter-btn-gender px-5 py-2.5 rounded-xl text-sm font-bold border transition-all flex items-center gap-2" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">
                                <i data-lucide="user" class="w-4 h-4 text-pink-500"></i> <span data-i18n="filter_female">Femmes</span>
                            </button>
                            <button onclick="filterByGender('Hommes')" class="filter-btn filter-btn-gender px-5 py-2.5 rounded-xl text-sm font-bold border transition-all flex items-center gap-2" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">
                                <i data-lucide="user" class="w-4 h-4 text-blue-500"></i> <span data-i18n="filter_male">Hommes</span>
                            </button>
                        </div>
                    </div>

                    <!-- Tier Filter -->
                    <div class="flex flex-col gap-3">
                        <span class="section-subheading text-xs font-bold uppercase tracking-wider" style="color: var(--text-secondary);">Tier (Taille):</span>
                        <div class="flex flex-wrap gap-2">
                            <button onclick="filterByTier('all')" class="filter-btn filter-btn-tier active px-4 py-1.5 rounded-full text-xs font-semibold border transition-all shadow-sm" style="background-color: var(--text-primary); color: var(--bg-primary); border-color: var(--text-primary);">Tous</button>
                            <button onclick="filterByTier('Mega')" class="filter-btn filter-btn-tier px-4 py-1.5 rounded-full text-xs font-semibold border transition-all" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">Mega (1M+)</button>
                            <button onclick="filterByTier('Macro')" class="filter-btn filter-btn-tier px-4 py-1.5 rounded-full text-xs font-semibold border transition-all" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">Macro (100k+)</button>
                            <button onclick="filterByTier('Micro')" class="filter-btn filter-btn-tier px-4 py-1.5 rounded-full text-xs font-semibold border transition-all" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">Micro (10k+)</button>
                            <button onclick="filterByTier('Nano')" class="filter-btn filter-btn-tier px-4 py-1.5 rounded-full text-xs font-semibold border transition-all" style="background-color: var(--bg-secondary); color: var(--text-secondary); border-color: var(--border-color);">Nano (<10k)</button>
                        </div>
                    </div>
                </div>

                <!-- Grid -->
                <div id="influencer-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <!-- Cards will be injected here -->
                </div>
                
                <div id="no-results" class="hidden text-center py-20">
                    <div class="inline-flex p-4 rounded-full mb-4" style="background-color: var(--bg-tertiary);">
                        <i data-lucide="search-x" class="w-8 h-8 text-purple-500"></i>
                    </div>
                    <h3 class="section-heading text-xl font-bold" style="color: var(--text-primary);" data-i18n="no_results">No creators found</h3>
                </div>
            </div>
        </section>

        <!-- BRAND FORM PAGE -->
        <section id="brand-form-view" class="hidden min-h-screen bg-white relative z-20 dark-mode-bg" style="background-color: var(--bg-primary);">
            <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"></div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                
                <div class="grid md:grid-cols-2 gap-16 items-start">
                    <div>
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-purple-50 text-purple-600 text-xs font-bold mb-6" style="background-color: var(--bg-tertiary);">
                            <span class="w-2 h-2 rounded-full bg-purple-600"></span>
                            <span data-i18n="tag_brand">Pour les Marques</span>
                        </div>
                        <h2 class="section-heading text-4xl md:text-5xl font-bold mb-6 leading-tight" style="color: var(--text-primary);" data-i18n="form_title">Collaborons <br>Ensemble.</h2>
                        <p class="hero-text text-lg mb-8 leading-relaxed" style="color: var(--text-secondary);" data-i18n="form_desc">
                            Remplissez le formulaire ci-contre pour lancer votre campagne d'influence. Nous vous redirigerons vers WhatsApp pour finaliser votre demande avec nos experts.
                            <br><br>Présenté par <strong>Ahmed Tayane</strong>.
                        </p>
                         <div class="space-y-6">
                            <div class="p-6 rounded-2xl border" style="background-color: var(--bg-tertiary); border-color: var(--border-color);">
                                <h3 class="section-heading font-bold mb-4" style="color: var(--text-primary);" data-i18n="direct_contacts">Contacts Directs</h3>
                                <div class="space-y-4">
                                    <a href="https://wa.me/212615191083" target="_blank" class="flex items-center gap-4 group transition-colors">
                                        <div class="p-3 rounded-xl border group-hover:border-green-500 transition-colors" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                                            <i data-lucide="phone" class="w-5 h-5 text-green-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold" style="color: var(--text-primary);">Ahmed</h4>
                                            <p class="text-sm" style="color: var(--text-secondary);">+212 615-191083</p>
                                        </div>
                                    </a>
                                     <a href="https://wa.me/212690163816" target="_blank" class="flex items-center gap-4 group transition-colors">
                                        <div class="p-3 rounded-xl border group-hover:border-green-500 transition-colors" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                                            <i data-lucide="phone" class="w-5 h-5 text-green-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold" style="color: var(--text-primary);">Reda</h4>
                                            <p class="text-sm" style="color: var(--text-secondary);">+212 690-163816</p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- BRAND FORM -->
                    <div class="rounded-3xl p-8 shadow-2xl border" style="background-color: var(--card-bg); border-color: var(--border-color);">
                        <form onsubmit="sendBrandForm(event)" class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Nom Prénom</label>
                                    <input type="text" id="b-name" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="Votre nom">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Raison sociale</label>
                                    <input type="text" id="b-brand" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="Nom de la marque">
                                </div>
                            </div>
                            
                             <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Email <span class="text-red-500">*</span></label>
                                <input type="email" id="b-email" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="contact@marque.com">
                            </div>

                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Secteur d'activité</label>
                                <select id="b-sector" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);">
                                    <option>Beauté et bien être</option>
                                    <option>Santé</option>
                                    <option>Cafés et restaurant</option>
                                    <option>Marque de vêtement</option>
                                    <option>Automobile</option>
                                    <option>Autre</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Lien Page Instagram <span class="text-red-500">*</span></label>
                                <input type="url" id="b-insta" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="https://instagram.com/...">
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Type de collaboration</label>
                                    <select id="b-type" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);">
                                        <option>Set de stories</option>
                                        <option>Reel</option>
                                        <option>Autre</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Budget (DH)</label>
                                    <input type="text" id="b-budget" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-purple-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="Ex: 5000">
                                </div>
                            </div>

                            <button type="submit" class="w-full py-4 bg-[#25D366] text-white rounded-xl font-bold hover:bg-green-600 transition-all flex items-center justify-center gap-2 group shadow-lg hover:shadow-green-500/25">
                                <span data-i18n="btn_whatsapp">Envoyer sur WhatsApp</span> <i data-lucide="send" class="w-4 h-4 group-hover:translate-x-1 transition-transform rtl:rotate-180"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <!-- CREATOR FORM PAGE -->
        <section id="creator-form-view" class="hidden min-h-screen bg-white relative z-20 dark-mode-bg" style="background-color: var(--bg-primary);">
             <div class="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none"></div>
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                
                <div class="grid md:grid-cols-2 gap-16 items-start">
                    <div>
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-50 text-blue-600 text-xs font-bold mb-6" style="background-color: var(--bg-tertiary);">
                            <span class="w-2 h-2 rounded-full bg-blue-600"></span>
                            <span data-i18n="tag_creator">Rejoindre le Roster</span>
                        </div>
                        <h2 class="section-heading text-4xl md:text-5xl font-bold mb-6 leading-tight" style="color: var(--text-primary);" data-i18n="creator_title">Devenez <br>Partenaire.</h2>
                        <p class="hero-text text-lg mb-8 leading-relaxed" style="color: var(--text-secondary);" data-i18n="creator_desc">
                            Vous êtes influenceur ? Rejoignez CollabX pour accéder à des campagnes exclusives avec les plus grandes marques.
                        </p>
                        
                        <div class="space-y-6">
                            <div class="p-6 rounded-2xl border" style="background-color: var(--bg-tertiary); border-color: var(--border-color);">
                                <h3 class="section-heading font-bold mb-4" style="color: var(--text-primary);" data-i18n="direct_contacts">Contacts Directs</h3>
                                <div class="space-y-4">
                                    <a href="https://wa.me/212615191083" target="_blank" class="flex items-center gap-4 group transition-colors">
                                        <div class="p-3 rounded-xl border group-hover:border-green-500 transition-colors" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                                            <i data-lucide="phone" class="w-5 h-5 text-green-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold" style="color: var(--text-primary);">Ahmed</h4>
                                            <p class="text-sm" style="color: var(--text-secondary);">+212 615-191083</p>
                                        </div>
                                    </a>
                                     <a href="https://wa.me/212690163816" target="_blank" class="flex items-center gap-4 group transition-colors">
                                        <div class="p-3 rounded-xl border group-hover:border-green-500 transition-colors" style="background-color: var(--bg-secondary); border-color: var(--border-color);">
                                            <i data-lucide="phone" class="w-5 h-5 text-green-500"></i>
                                        </div>
                                        <div>
                                            <h4 class="font-bold" style="color: var(--text-primary);">Reda</h4>
                                            <p class="text-sm" style="color: var(--text-secondary);">+212 690-163816</p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- CREATOR FORM -->
                    <div class="rounded-3xl p-8 shadow-2xl border" style="background-color: var(--card-bg); border-color: var(--border-color);">
                        <form onsubmit="sendCreatorForm(event)" class="space-y-4">
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Nom Complet</label>
                                <input type="text" id="c-name" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-blue-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="Votre nom">
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Instagram (@)</label>
                                    <input type="text" id="c-insta" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-blue-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="@username">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Followers</label>
                                    <input type="text" id="c-followers" required class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-blue-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="Ex: 50K">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Lien TikTok (Opt)</label>
                                <input type="url" id="c-tiktok" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-blue-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);" placeholder="https://tiktok.com/...">
                            </div>

                            <div>
                                <label class="block text-xs font-bold uppercase tracking-wider mb-1" style="color: var(--text-secondary);">Niche / Catégorie</label>
                                <select id="c-niche" class="w-full px-4 py-3 rounded-xl border focus:ring-2 focus:ring-blue-500 outline-none transition-all" style="background-color: var(--bg-tertiary); color: var(--text-primary); border-color: var(--border-color);">
                                    <option>Lifestyle</option>
                                    <option>Fashion</option>
                                    <option>Beauty</option>
                                    <option>Tech</option>
                                    <option>Food</option>
                                    <option>Humour</option>
                                    <option>Autre</option>
                                </select>
                            </div>

                            <button type="submit" class="w-full py-4 bg-[#25D366] text-white rounded-xl font-bold hover:bg-green-600 transition-all flex items-center justify-center gap-2 group shadow-lg hover:shadow-green-500/25">
                                <span data-i18n="btn_whatsapp_apply">Postuler via WhatsApp</span> <i data-lucide="send" class="w-4 h-4 group-hover:translate-x-1 transition-transform rtl:rotate-180"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Instagram Embed Script (Loaded Once) -->
    <script async src="//www.instagram.com/embed.js"></script>

    <script>
        // --- TRANSLATION DATA ---
        const translations = {
            en: {
                nav_home: "Home",
                nav_catalog: "Creator Catalog",
                btn_join: "Join Now",
                btn_brand: "Join as Brand",
                btn_creator: "Join as Creator",
                hero_title_1: "Connect.",
                hero_title_2: "Inspire.",
                hero_title_3: "Perform.",
                hero_desc: "The most advanced influencer catalog in Morocco. Categorized by AI, sorted by Impact. Find your perfect match from Nano to Mega stars.",
                stat_creators: "Curated Creators",
                stat_tiers: "Nano • Micro • Macro • Mega",
                stat_matching: "Men • Women",
                stat_ai: "Gender Filter",
                trusted_by: "Trusted By Leading Brands",
                our_work: "Our Work",
                collab_title: "Our Collaborations",
                top_talents: "Top Talents",
                view_all: "View All 100+ Influencers",
                footer_desc: "CollabX is Morocco's leading influencer marketing platform. We connect ambitious brands with top-performing content creators.",
                footer_direction: "Leadership",
                footer_partnership: "Partnership",
                catalog_title: "Creator Catalog",
                catalog_desc: "Discover Morocco's finest talent.",
                filter_gender: "Category (Gender):",
                filter_female: "Women",
                filter_male: "Men",
                tag_brand: "For Brands",
                form_title: "Let's Collaborate.",
                form_desc: "Fill out the form to launch your influencer campaign. We'll redirect you to WhatsApp to finalize your request with our experts.",
                direct_contacts: "Direct Contacts",
                btn_whatsapp: "Send on WhatsApp",
                tag_creator: "Join the Roster",
                creator_title: "Become a Partner.",
                creator_desc: "Are you an influencer? Join CollabX to access exclusive campaigns with major brands.",
                btn_whatsapp_apply: "Apply via WhatsApp",
                no_results: "No creators found"
            },
            fr: {
                nav_home: "Accueil",
                nav_catalog: "Catalogue Créateurs",
                btn_join: "Rejoindre",
                btn_brand: "Espace Marques",
                btn_creator: "Espace Créateurs",
                hero_title_1: "Connecter.",
                hero_title_2: "Inspirer.",
                hero_title_3: "Performer.",
                hero_desc: "Le catalogue d'influenceurs le plus avancé au Maroc. Catégorisé par IA, trié par Impact. Trouvez votre match parfait de Nano à Mega stars.",
                stat_creators: "Créateurs Vérifiés",
                stat_tiers: "Nano • Micro • Macro • Mega",
                stat_matching: "Hommes • Femmes",
                stat_ai: "Filtre Genre",
                trusted_by: "Ils nous font confiance",
                our_work: "Notre Travail",
                collab_title: "Nos Collaborations",
                top_talents: "Meilleurs Talents",
                view_all: "Voir les 100+ Influenceurs",
                footer_desc: "CollabX est la plateforme leader au Maroc pour le marketing d'influence. Nous connectons les marques les plus ambitieuses avec les créateurs de contenu les plus performants.",
                footer_direction: "Direction",
                footer_partnership: "Partenariat",
                catalog_title: "Catalogue Créateurs",
                catalog_desc: "Découvrez les meilleurs talents du Maroc.",
                filter_gender: "Catégorie (Genre):",
                filter_female: "Femmes",
                filter_male: "Hommes",
                tag_brand: "Pour les Marques",
                form_title: "Collaborons Ensemble.",
                form_desc: "Remplissez le formulaire ci-contre pour lancer votre campagne d'influence. Nous vous redirigerons vers WhatsApp pour finaliser votre demande avec nos experts.",
                direct_contacts: "Contacts Directs",
                btn_whatsapp: "Envoyer sur WhatsApp",
                tag_creator: "Rejoindre le Roster",
                creator_title: "Devenez Partenaire.",
                creator_desc: "Vous êtes influenceur ? Rejoignez CollabX pour accéder à des campagnes exclusives avec les plus grandes marques.",
                btn_whatsapp_apply: "Postuler via WhatsApp",
                no_results: "Aucun créateur trouvé"
            },
            ar: {
                nav_home: "الرئيسية",
                nav_catalog: "كتالوج المؤثرين",
                btn_join: "انضم الآن",
                btn_brand: "للعلامات التجارية",
                btn_creator: "للمؤثرين",
                hero_title_1: "تواصل.",
                hero_title_2: "ألهم.",
                hero_title_3: "أنجز.",
                hero_desc: "أكبر كتالوج للمؤثرين في المغرب. مصنف بالذكاء الاصطناعي. اعثر على شريكك المثالي من النانو إلى النجوم.",
                stat_creators: "مؤثرون مختارون",
                stat_tiers: "نانو • ميكرو • ماكرو • ميجا",
                stat_matching: "رجال • نساء",
                stat_ai: "تصنيف الجنس",
                trusted_by: "شركات تثق بنا",
                our_work: "أعمالنا",
                collab_title: "تعاوناتنا",
                top_talents: "أفضل المواهب",
                view_all: "عرض أكثر من 100 مؤثر",
                footer_desc: "CollabX هي المنصة الرائدة في المغرب للتسويق عبر المؤثرين. نربط العلامات التجارية الطموحة بأفضل صناع المحتوى.",
                footer_direction: "الإدارة",
                footer_partnership: "الشراكات",
                catalog_title: "كتالوج المؤثرين",
                catalog_desc: "اكتشف أفضل المواهب في المغرب.",
                filter_gender: "الفئة (الجنس):",
                filter_female: "نساء",
                filter_male: "رجال",
                tag_brand: "للعلامات التجارية",
                form_title: "لنتعاون معاً.",
                form_desc: "املأ الاستمارة لإطلاق حملتك. سنقوم بتوجيهك إلى WhatsApp لإتمام طلبك مع خبرائنا.",
                direct_contacts: "اتصال مباشر",
                btn_whatsapp: "إرسال عبر WhatsApp",
                tag_creator: "انضم إلينا",
                creator_title: "كن شريكاً.",
                creator_desc: "هل أنت مؤثر؟ انضم إلى CollabX للوصول إلى حملات حصرية مع أكبر العلامات التجارية.",
                btn_whatsapp_apply: "قدّم عبر WhatsApp",
                no_results: "لم يتم العثور على مؤثرين"
            }
        };

        function setLanguage(lang) {
            document.getElementById('current-lang').innerText = lang.toUpperCase();
            
            // RTL for Arabic
            if(lang === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.body.style.fontFamily = "'Noto Sans Arabic', sans-serif"; // You might want to add this font link if needed
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.body.style.fontFamily = "'Inter', sans-serif";
            }

            // Update Text
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(translations[lang][key]) {
                    el.innerText = translations[lang][key];
                }
            });
        }

        // --- 1. DATA PREPARATION (WITH GENDER) ---
        // Gender: 'F' = Female, 'M' = Male
        
        var rawInfluencers = [
            { name: "HBIRKOUSAFAE OFFICIEL", handle: "hbirkousafae_officiel", followers: "7.4M", image: "influncers images/hbirkou safae.jpg", niche: "Actress/Lifestyle", gender: "F" },
            { name: "FATIJAMALIOFFICIEL", handle: "fatijamaliofficiel", followers: "5.6M", image: "influncers images/Fati Jamali.jpg", niche: "Artist/Model", gender: "F" },
            { name: "NOUHAILA BARBIE", handle: "nouhaila_barbie", followers: "4.1M", image: "influncers images/nouhaila barbie .jpg", niche: "Beauty/Lifestyle", gender: "F" },
            { name: "ZOUHAIRZAIR", handle: "zouhairzair", followers: "3.3M", image: "influncers images/zouhair zair.jpeg", niche: "Humor/Comedy", gender: "M" },
            { name: "ASMAE AMRANI", handle: "asmaeamraniofficiel", followers: "3.3M", image: "influncers images/asmae amrani.jpg", niche: "Fashion/Lifestyle", gender: "F" },
            { name: "FATIMAZAHRAQANBOUA_", handle: "fatimazahraqanboua_", followers: "3.2M", image: "influncers images/FatimaZahra Qanboua.jpg", niche: "Actress/Lifestyle", gender: "F" },
            { name: "ABOUBAKR ZIANI", handle: "aboubakrziani", followers: "3M", image: "influncers images/aboubakr ziani.jpg", niche: "Lifestyle/Vlog", gender: "M" },
            { name: "NOUREDDINE ABAS DAKI", handle: "noureddine.abas.daki", followers: "2.6M", image: "influncers images/noureddine abas daki.webp", niche: "Lifestyle/Fitness", gender: "M" },
            { name: "SAHARSEDDIKI", handle: "saharseddiki", followers: "2.5M", image: "influncers images/sahar seddiki.png", niche: "Artist/Singer", gender: "F" },
            { name: "AMINEES SALHI", handle: "aminees_salhi", followers: "2.3M", image: "influncers images/aminees salhi.jpg", niche: "Lifestyle/Travel", gender: "M" },
            { name: "FATIMA ZAHRA_EL_IBRAHIMI", handle: "fatima_zahra_el_ibrahimi", followers: "2.3M", image: "influncers images/fatima zahra el ibrahimi.jpg", niche: "Lifestyle/Family", gender: "F" },
            { name: "ABDELILLAH HABBAT IDRISSI", handle: "habbatabdelillah", followers: "2.2M", image: "influncers images/abdel illah habbat idrissi.jpg", niche: "Lifestyle/Fitness", gender: "M" },
            { name: "CHEKORS", handle: "chekorsfamily", followers: "2.1M", image: "influncers images/chekors.jpg", niche: "Family/Vlog", gender: "M" },
            { name: "ANASELHAMDOUCHII", handle: "anaselhamdouchii", followers: "2M", image: "influncers images/anas elhamdouchi.jpg", niche: "Lifestyle", gender: "M" },
            { name: "YOUSRA BARRYCH", handle: "yousraqueenofmysel", followers: "2M", image: "influncers images/Yousra Barrych.png", niche: "Lifestyle", gender: "F" },
            { name: "SOSSAM", handle: "sossamofficiel", followers: "1.9M", image: "influncers images/sossam.jpg", niche: "Humor/Pranks", gender: "M" },
            { name: "MERIEM.ZOUBIR", handle: "meriem.zoubir", followers: "1.8M", image: "influncers images/meryem zoubir.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SANAESLAAAY", handle: "sanaeslaaay", followers: "1.6M", image: "influncers images/sanae slaaay.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SEDKIHOUDA_OFFICIEL", handle: "sedkihouda_officiel", followers: "1.4M", image: "influncers images/houda sedki.jpg", niche: "Actress/Lifestyle", gender: "F" },
            { name: "KHAWLA GHARRAFI CHERKAOUI", handle: "khawlaqueenofficial", followers: "1.4M", image: "influncers images/KHAWLA GHARRAFI CHERKAOUI.jpg", niche: "Lifestyle", gender: "F" },
            { name: "HAJAR ADNANE OFFICIEL", handle: "hajar_adnane_officiel", followers: "1.3M", image: "influncers images/HAJAR ADNANE OFFICIEL.jpg", niche: "Artist/Singer", gender: "F" },
            { name: "SALWAZARHANE", handle: "salwazarhane", followers: "1.2M", image: "influncers images/SALWAZARHANE.jpeg", niche: "Actress", gender: "F" },
            { name: "NADA.HADDAOUI", handle: "nada.haddaoui", followers: "1.1M", image: "influncers images/NADA.HADDAOUI.jpg", niche: "Lifestyle", gender: "F" },
            { name: "RITALAGZOULI", handle: "ritalagzouli", followers: "1.1M", image: "influncers images/RITALAGZOULI.jpg", niche: "Lifestyle", gender: "F" },
            { name: "DR ISMAEL AZIZ", handle: "dr.ismael2", followers: "1M", image: "influncers images/dr ismael aziz.jpg", niche: "Health/Doctor", gender: "M" },
            { name: "EL MEHDI BOUGHABA", handle: "mehdi_boughaba1", followers: "1M", image: "influncers images/Mehdi boughaba.jpg", niche: "Lifestyle", gender: "M" },
            { name: "SOUKAINA GLAMOUR", handle: "glamour_by_soukaina", followers: "1M", image: "influncers images/soukaina glamour.jpeg", niche: "Beauty/Lifestyle", gender: "F" },
            { name: "SELMA FAIDA", handle: "selma.feida", followers: "1M", image: "influncers images/SELMA FAIDA.jpeg", niche: "Lifestyle", gender: "F" },
            { name: "KENZA BELLA", handle: "kenza_bella_officiel", followers: "1M", image: "influncers images/KENZA BELLA.jpg", niche: "Lifestyle", gender: "F" },
            { name: "AYOUB STAR", handle: "ayoub.star.officiel", followers: "1M", image: "influncers images/AYOUB STAR.jpg", niche: "Comedy/Lifestyle", gender: "M" },
            { name: "HAMZA SENHAJI", handle: "senhamza", followers: "1M", image: "influncers images/Mawazine SENHAJI.jpg", niche: "Comedy", gender: "M" },
            { name: "BILAL MOUHOUCH", handle: "bimothe1", followers: "1M", image: "influncers images/Bilal mouhouch.jpeg", niche: "Lifestyle", gender: "M" },
            { name: "RABIEKATI", handle: "rabiekati", followers: "1M", image: "influncers images/RABIEKATI.jpg", niche: "Actor", gender: "M" },
            { name: "FATIMAEZZAHRA_LAHRECH.OFFICIEL", handle: "fatimaezzahra_lahrech.officiel", followers: "1M", image: "influncers images/FATIMAEZZAHRA_LAHRECH.OFFICIEL.jpg", niche: "Actress", gender: "F" },
            
            // MACRO (100k - 1M)
            { name: "AMIR WALID", handle: "amirwalidd", followers: "956K", image: "influncers images/Amir walid.jpeg", niche: "Lifestyle/Luxury", gender: "M" },
            { name: "CHEF WALID", handle: "mini_chefwalid", followers: "942K", image: "influncers images/CHEF WALID.jpg", niche: "Food/Cooking", gender: "M" },
            { name: "HIBA ESSABBAH", handle: "hibawitk", followers: "892K", image: "influncers images/HIBA ESSABBAH.jpg", niche: "Lifestyle", gender: "F" },
            { name: "ACHRAF NEDDAY", handle: "achrafnedday.officiel", followers: "868K", image: "influncers images/ACHRAF NEDDAY.jpg", niche: "Lifestyle/Comedy", gender: "M" },
            { name: "CHAIMAE BELKHIR", handle: "belkhirchaimae", followers: "855K", image: "influncers images/CHAIMAE BELKHIR.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MERYEM CHADY", handle: "lacurlymorocco", followers: "841K", image: "influncers images/Meryem chadi.jpeg", niche: "Hair/Beauty", gender: "F" },
            { name: "SARA DIN", handle: "sara.dinz", followers: "819K", image: "influncers images/sara din.jpg", niche: "Lifestyle", gender: "F" },
            { name: "WALID LWAJDI", handle: "waliiid__48__", followers: "800K", image: "influncers images/walid lwajdi.jpg", niche: "Food/Cooking", gender: "M" },
            { name: "AMINE ZINEDDINE", handle: "aminezineddine", followers: "754K", image: "influncers images/amine zinnedine.jpg", niche: "Lifestyle/Comedy", gender: "M" },
            { name: "LAWLA_DOROFFF", handle: "lawla_dorofff", followers: "739K", image: "influncers images/lawla dorof.jpg", niche: "Football/Sport", gender: "F" },
            { name: "FADIL BASRI", handle: "fadel_trainer", followers: "732K", image: "influncers images/FADIL BASRI.jpg", niche: "Fitness/Coach", gender: "M" },
            { name: "9OSSOS", handle: "9ossos", followers: "703K", image: "influncers images/9ossos.jpg", niche: "Food/Reviews", gender: "M" },
            { name: "EPER_OUSSAMA", handle: "eper_oussama", followers: "654K", image: "influncers images/eper oussama.jpg", niche: "Comedy", gender: "M" },
            { name: "GOUTTAY KHADIJA", handle: "khadija_gouttay", followers: "625K", image: "influncers images/gouttay khadija.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MERYEM BNH", handle: "meryem._bnh", followers: "575K", image: "influncers images/meryem bnh.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MATJAR.LAILA_OFFICIAL", handle: "matjar.laila_official", followers: "561K", image: "influncers images/matjar laila.jpg", niche: "Business/E-com", gender: "F" },
            { name: "YAHYA ABADA", handle: "yahyaa.abadaa", followers: "553K", image: "influncers images/yahya abada.jpg", niche: "Lifestyle/Model", gender: "M" },
            { name: "MALIKA BELAOUAD", handle: "malika_official26", followers: "544K", image: "influncers images/malika belouad.jpg", niche: "Lifestyle", gender: "F" },
            { name: "OMARBAIROUK", handle: "omarbairouk_", followers: "519K", image: "influncers images/omar bairouk.jpg", niche: "Lifestyle/Couple", gender: "M" },
            { name: "OUMNIA ESSEDDIQUI", handle: "oumnia_fd", followers: "491K", image: "https://image2url.com/images/1766188831038-b244bd05-4a0f-4ce1-8713-79289451b03a.jpg", niche: "Lifestyle", gender: "F" },
            { name: "AYA FRAYMIJA", handle: "aya.fraymija", followers: "450K", image: "influncers images/aya fraymija.jpg", niche: "Humor", gender: "F" },
            { name: "AHMED RIFAI", handle: "ahmed__rifai__19", followers: "429K", image: "influncers images/ahmed rifai.jpg", niche: "Lifestyle", gender: "M" },
            { name: "OMAR FADILII", handle: "omar_fadilii", followers: "426K", image: "influncers images/omar fadili.jpg", niche: "Food/Cooking", gender: "M" },
            { name: "TAHA RACHIDY", handle: "rachidy_taha", followers: "402K", image: "influncers images/taha rachidy.jpg", niche: "Filmmaking/Vlog", gender: "M" },
            { name: "SALOUITAAAA", handle: "salouitaaaa", followers: "389K", image: "influncers images/salouita.jpg", niche: "Humor/Criticism", gender: "F" },
            { name: "LKHTIBSIMO", handle: "lkhtibsimo1", followers: "347K", image: "influncers images/simo lkhtib.jpg", niche: "Humor", gender: "M" },
            { name: "MARWALAHLOU", handle: "marwalahlou", followers: "330K", image: "influncers images/marwalahlou.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MOUNIAJAIDER", handle: "mouniajaider_officiel", followers: "300K", image: "influncers images/mounia jaider.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MOHAMED MALI", handle: "mali_mohamd", followers: "293K", image: "influncers images/Mohamed mali.jpeg", niche: "Lifestyle", gender: "M" },
            { name: "LILY", handle: "ilham__elsa", followers: "263K", image: "influncers images/lily.jpg", niche: "Lifestyle/Beauty", gender: "F" },
            { name: "MAMTALO", handle: "mamtalo_o", followers: "262K", image: "influncers images/mamtalo.jpg", niche: "Digital Creator/Video", gender: "M" },
            { name: "BOUCHRA EL HAMMOUTI", handle: "bouchra.elhammouti", followers: "259K", image: "influncers images/bouchra el hammouti.jpg", niche: "Beauty/Model", gender: "F" },
            { name: "AYA IGOUDYANE", handle: "_ayaigoudyane_", followers: "251K", image: "influncers images/aya igoudyane.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MARWA", handle: "tester_with_marwa", followers: "240K", image: "influncers images/marwa.jpg", niche: "Food/Reviews", gender: "F" },
            { name: "BOTATOSALAH", handle: "botatosalah", followers: "233K", image: "influncers images/botato salah.jpg", niche: "Gaming/Humor", gender: "M" },
            { name: "ALI GE", handle: "ali_ge_officiel", followers: "230K", image: "influncers images/ali ge.jpg", niche: "Lifestyle", gender: "M" },
            { name: "MEHDI LAHLOU", handle: "mehdirevieww", followers: "229K", image: "influncers images/mehdi lahlou.jpg", niche: "Food/Reviews", gender: "M" },
            { name: "EL HABIB AIT EL FAQUIR", handle: "lovely_place_morocco", followers: "227K", image: "influncers images/el habib ait.jpg", niche: "Travel/Reviews", gender: "M" },
            { name: "BILAL AGBALO", handle: "bilalaghbalo1", followers: "215K", image: "influncers images/bilal agbalo.jpg", niche: "Lifestyle", gender: "M" },
            { name: "ADAMACHAB", handle: "adamachab.official", followers: "200K", image: "influncers images/adam achab.jpg", niche: "Travel/Humor/Reviews", gender: "M" },
            { name: "ZAKIABEAUTY", handle: "zakiabeauty", followers: "197K", image: "influncers images/zakia beauty.jpg", niche: "Beauty", gender: "F" },
            { name: "HAJARMASDOUKI.OFFICIEL", handle: "hajarmasdouki.officiel", followers: "197K", image: "influncers images/hajar masdouki.jpg", niche: "Actress", gender: "F" },
            { name: "YALA NKHARJO", handle: "yalankharjo", followers: "174K", image: "influncers images/yala nkhrjo.jpg", niche: "Travel/Food", gender: "M" },
            { name: "YASSINE ELKHALFI", handle: "yassine_elkhalfy", followers: "170K", image: "influncers images/yassin khalfi.jpg", niche: "Lifestyle", gender: "M" },
            { name: "SOUFIANE WAJIZ", handle: "soufianewajiz", followers: "170K", image: "influncers images/soufian wajiz.jpg", niche: "Actor/Travel", gender: "M" },
            { name: "KHAOULA", handle: "by_khaoula", followers: "168K", image: "influncers images/khaoula.jpg", niche: "Lifestyle", gender: "F" },
            { name: "ZAKARIAIKHALEF", handle: "zakaria_ikhalef", followers: "167K", image: "influncers images/ikhalef zakaria.jpg", niche: "Lifestyle", gender: "M" },
            { name: "TAL9ZDIRT_1", handle: "tal9zdirt_1", followers: "150K", image: "influncers images/tal9zdirt.jpg", niche: "Humor", gender: "M" },
            { name: "NWIWIRAT SALMA", handle: "nwiwirat_salma", followers: "128K", image: "influncers images/nwiwirat salma.jpg", niche: "Home/DIY", gender: "F" },
            { name: "MEHDI EL GHAZI", handle: "meg.psy", followers: "127K", image: "influncers images/mehdi el ghazi.jpg", niche: "Psychology", gender: "M" },
            { name: "NABIL ELMOHADDEB", handle: "lemhaddebnabil", followers: "123K", image: "influncers images/nabil elmhdeb.jpg", niche: "Lifestyle", gender: "M" },
            { name: "ISSAM KARMI", handle: "issam_karmi", followers: "120K", image: "influncers images/issam karmi.jpg", niche: "Lifestyle", gender: "M" },
            { name: "LBASSEL", handle: "lbassel_official", followers: "116K", image: "influncers images/lbassel.jpg", niche: "Humor", gender: "M" },
            { name: "CHAIMAA AGR", handle: "shaym.agr", followers: "110K", image: "influncers images/chaimaagr.jpg", niche: "Lifestyle", gender: "F" },
            { name: "FATHALAH BARCHA", handle: "fathalah_off", followers: "109K", image: "influncers images/fathalah barcha.jpg", niche: "Lifestyle", gender: "M" },
            { name: "R.DIIDIIYA", handle: "r.diidiiya", followers: "102K", image: "influncers images/r.diidiiya.jpg", niche: "Lifestyle", gender: "F" },
            { name: "NASSIM EL IDRISSI", handle: "nassim_el_idr", followers: "45K", image: "https://image2url.com/r2/default/images/1767443921927-00f78b36-3081-4e1a-999f-5ac646580522.jpg", niche: "UGC Creator/Food", gender: "M" },
            { name: "IDRISS ABIRI", handle: "idrissabiri", followers: "235K", image: "https://image2url.com/r2/default/images/1767443145298-eb2082cd-1687-4bc9-b0e0-b8da44658946.jpg", niche: "Lifestyle/Comedy", gender: "M" },
            { name: "HOUSSAM HADADI", handle: "houssam_hadadi", followers: "85K", image: "https://image2url.com/r2/default/images/1767443306280-5e212cd5-f08e-4e43-8833-a847fadd34fc.jpg", niche: "Lifestyle/Fitness", gender: "M" },
            { name: "AHMED LAGRAR", handle: "th3rays", followers: "100K", image: "https://image2url.com/r2/default/images/1767446053222-a6a0735b-d6a5-4317-ab43-f4107aef6a35.jpg", niche: "Fashion/Lifestyle", gender: "M" },
            { name: "MEHDI BARBIABE", handle: "fitwith_mehdi", followers: "50K", image: "https://image2url.com/r2/default/images/1767446448311-4592b3a4-b1e7-4c41-aeac-fb400ab80f6c.jpg", niche: "Fitness", gender: "M" },
            { name: "IMAD ESSATIR", handle: "sater_imad", followers: "313K", image: "https://image2url.com/r2/default/images/1767450519118-4c6b784e-3348-462c-8660-a11bb67b4a10.jpg", niche: "Lifestyle", gender: "M" },
            
            // MICRO (10k - 100k)
            { name: "ELHOUSSAINE AKJTAOU", handle: "ryuvexy", followers: "96K", image: "influncers images/Elhoussaine akjtaou.jpeg", niche: "Fashion", gender: "M" },
            { name: "KHAOULA", handle: "kawlakmn", followers: "92K", image: "influncers images/kawlakmn.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SAHARELMAATAOUI", handle: "saharelmaataoui", followers: "90.1K", image: "influncers images/saharelmaataoui.jpg", niche: "Actress/Beauty", gender: "F" },
            { name: "MEHDILOUBER6", handle: "mehdilouber6", followers: "90K", image: "influncers images/mehdilouber.jpg", niche: "Fashion/Streetwear", gender: "M" },
            { name: "AYOUB HAMDANI", handle: "ayoub.hamdanii", followers: "83K", image: "influncers images/ayoub.hamdanii.jpg", niche: "Lifestyle", gender: "M" },
            { name: "AYA HAD", handle: "aya.had1", followers: "81K", image: "influncers images/aya.had.jpg", niche: "Lifestyle", gender: "F" },
            { name: "DARIA VOLKOVA", handle: "daria_emerald777", followers: "78K", image: "influncers images/daria_emerald.jpg", niche: "Education", gender: "F" },
            { name: "FOOD SECRET'S", handle: "food5secrets", followers: "77K", image: "influncers images/food5secrets.jpg", niche: "Food/Cooking", gender: "F" },
            { name: "EMYBEAUTY 123", handle: "emybeauty123", followers: "75K", image: "influncers images/emybeauty.jpg", niche: "Beauty", gender: "F" },
            { name: "AMEL_MOHAMED_OFFICIEL", handle: "amel_mohamed_officiel", followers: "74K", image: "influncers images/amel_mohamed_officiel.jpg", niche: "Lifestyle", gender: "F" },
            { name: "AMAL BOUQDIR", handle: "amal.bouqdir", followers: "69K", image: "influncers images/amal.bouqdir.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SABAH MEKOUAR HANOUF", handle: "mekouarsabah", followers: "66K", image: "influncers images/mekouarsabah.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SOUKAINANAJI", handle: "soukaiinanaji", followers: "63K", image: "influncers images/soukaiinanaji.jpg", niche: "Beauty", gender: "F" },
            { name: "NIEMA.ELL", handle: "niema.ell", followers: "58K", image: "influncers images/niema.ell.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MALLOUKA", handle: "mallouka_d", followers: "55K", image: "influncers images/mallouka_d.jpg", niche: "Lifestyle", gender: "F" },
            { name: "JOUHAINA AIT EL OURF", handle: "jouhaina_aitelourf", followers: "55K", image: "influncers images/jouhaina_aitelourf.jpg", niche: "Lifestyle", gender: "F" },
            { name: "TAIB KENIZA OFFICIEL", handle: "taib_keniza_officiel", followers: "45K", image: "influncers images/taib_keniza_officiel.jpg", niche: "Lifestyle", gender: "F" },
            { name: "LOUBNA.HABOUBA", handle: "loubna.habouba", followers: "42K", image: "influncers images/loubna.habouba.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SAMIAAA ELD", handle: "samiaaa_eld", followers: "42K", image: "influncers images/samiaaa_eld.jpg", niche: "Lifestyle", gender: "F" },
            { name: "DOHA.CARMEN", handle: "doha.carmen", followers: "41K", image: "influncers images/doha.carmen.jpg", niche: "Beauty", gender: "F" },
            { name: "ZAYNAP AMRANI", handle: "zaynap_amrani", followers: "39K", image: "influncers images/zaynap_amrani.jpg", niche: "Lifestyle", gender: "F" },
            { name: "NOUR EL HOUDA", handle: "houda_elmabchour", followers: "39K", image: "influncers images/houda_elmabchour.jpg", niche: "Lifestyle", gender: "F" },
            { name: "HAJOURA AR1", handle: "hajoura_ar1", followers: "38K", image: "influncers images/hajoura_ar1.jpg", niche: "Lifestyle", gender: "F" },
            { name: "MARYAM BKH", handle: "nutellamimii", followers: "37K", image: "influncers images/MARYAM BKH.jpg", niche: "Lifestyle", gender: "F" },
            { name: "LOUBNA.ELYAMANI", handle: "loubna.elyamani", followers: "37K", image: "influncers images/loubna.elyamani.jpg", niche: "Lifestyle", gender: "F" },
            { name: "AMBERNAJI", handle: "ambernaji", followers: "35K", image: "influncers images/ambernaji.jpg", niche: "Lifestyle", gender: "F" },
            { name: "HICHAM TOUMI", handle: "hicham_toumi07", followers: "33K", image: "influncers images/hicham toumi.jpg", niche: "Lifestyle", gender: "M" },
            { name: "NOUHAILA BEKKALI", handle: "nouhaila_makeup_artist", followers: "32K", image: "influncers images/nouhaila_bekkali_mkp.jpg", niche: "Beauty", gender: "F" },
            { name: "ADWORLD", handle: "adworld.ma", followers: "31K", image: "influncers images/adworld.ma.jpg", niche: "Marketing", gender: "M" },
            { name: "OUMNIINAA", handle: "oumniinaa", followers: "28K", image: "influncers images/oumniinaa.jpg", niche: "Lifestyle", gender: "F" },
            { name: "IMANE SEFF", handle: "imaneseff", followers: "28K", image: "influncers images/imaneseff.jpg", niche: "Lifestyle", gender: "F" },
            { name: "NUTELLAMIMII", handle: "nutellamimii", followers: "23K", image: "influncers images/nutellamimii.jpg", niche: "Fashion/Lifestyle", gender: "M" },
            { name: "DUNYA", handle: "beautybydunyaa_", followers: "23K", image: "influncers images/beautybydunyaa_.jpg", niche: "Beauty", gender: "F" },
            { name: "MISS_MOTIV.ACTION", handle: "miss_motiv.action", followers: "21K", image: "influncers images/miss_motiv.action.jpg", niche: "Motivation", gender: "F" },
            { name: "NADA DH", handle: "nuida_kitchen", followers: "20K", image: "influncers images/Nada dh.jpeg", niche: "Food", gender: "F" },
            { name: "YOUSRA_BOUKRII", handle: "yousra_boukrii", followers: "19K", image: "influncers images/yousra_boukrii.jpg", niche: "Lifestyle", gender: "F" },
            { name: "ZINA_ELOUARDKANE", handle: "zina_elouardkane", followers: "18K", image: "influncers images/zina_elouardkane.jpg", niche: "Lifestyle", gender: "F" },
            { name: "OUSSAMAHANINEE", handle: "oussamahaninee", followers: "17K", image: "influncers images/oussamahaninee.jpg", niche: "Lifestyle", gender: "M" },
            { name: "RIMBAIROUK", handle: "rimbairouk", followers: "17K", image: "influncers images/rimbairouk.jpg", niche: "Lifestyle", gender: "F" },
            { name: "NADA NACRI", handle: "nada_nacri", followers: "17K", image: "influncers images/nada_nacri.jpg", niche: "Lifestyle", gender: "F" },
            { name: "SOJOLIFE7", handle: "sojolife7", followers: "14K", image: "influncers images/sojolife7.jpg", niche: "Lifestyle", gender: "F" },
            { name: "IMANE_MIRAZ", handle: "imane_miraz", followers: "13K", image: "influncers images/imane_miraz.jpg", niche: "Lifestyle", gender: "F" },
            { name: "TAHA_HAFSI", handle: "taha_hafsi", followers: "12K", image: "influncers images/taha_hafsi.jpg", niche: "Lifestyle", gender: "M" },
            { name: "IMANE FARAH", handle: "imanefarahofficiel", followers: "10K", image: "influncers images/imanefarahofficiel.jpg", niche: "Lifestyle", gender: "F" },
            
            // NANO (<10k)
            { name: "SELMA ELIDRISSI", handle: "selma.edrissi", followers: "6K", image: "influncers images/selma.edrissi.jpg", niche: "Lifestyle", gender: "F" },
            { name: "ADIL.LE.CASABLANCAIS", handle: "adil.le.casablancais", followers: "5K", image: "influncers images/adil.le.casablancais.jpg", niche: "Lifestyle", gender: "M" },
            { name: "AYOUB DIGO", handle: "ayoub_digo_", followers: "3K", image: "influncers images/ayoub_digo_.jpg", niche: "Lifestyle", gender: "M" },
            { name: "MUA.YASMINA", handle: "mua.yasmina", followers: "1K", image: "influncers images/mua.yasmina.jpg", niche: "Beauty/Makeup", gender: "F" }
        ];

        // Process Data (Calculate Numbers)
        var influencers = rawInfluencers.map(inf => {
            const numStr = inf.followers.toUpperCase().replace('+', '');
            let count = 0;
            if(numStr.includes('M')) count = parseFloat(numStr) * 1000000;
            else if(numStr.includes('K')) count = parseFloat(numStr) * 1000;
            else count = parseFloat(numStr);

            let tier = "Nano";
            if(count >= 1000000) tier = "Mega";
            else if(count >= 100000) tier = "Macro";
            else if(count >= 10000) tier = "Micro";

            return { ...inf, count, tier };
        }).sort((a,b) => b.count - a.count);

        // --- 2. 3D BACKGROUND (Three.js) ---
        function initThreeJS() {
            const container = document.getElementById('canvas-container');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);
            
            // Get current theme
            const theme = document.body.getAttribute('data-theme') || 'light';

            // Particles - More particles in dark mode for better visibility
            const geometry = new THREE.BufferGeometry();
            const particlesCount = theme === 'dark' ? 1200 : 700; // Even more particles in dark mode
            const posArray = new Float32Array(particlesCount * 3);

            for(let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 15; // Spread
            }

            geometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            
            // Material - Theme-aware color - EXTREMELY bright for dark mode
            function getParticleColor() {
                const theme = document.body.getAttribute('data-theme') || 'light';
                // In dark mode, use VERY bright light purple/pink - almost white
                // In light mode, use the original violet
                return theme === 'dark' ? 0xe879f9 : 0x7c3aed; // Very bright fuchsia for dark mode
            }
            
            function getParticleSize() {
                const theme = document.body.getAttribute('data-theme') || 'light';
                // Same size for both modes
                return 0.03; // Same size in both light and dark mode
            }
            
            const material = new THREE.PointsMaterial({
                size: getParticleSize(),
                color: getParticleColor(),
                transparent: true,
                opacity: theme === 'dark' ? 1.0 : 0.8, // Full opacity in dark mode
                sizeAttenuation: true
            });
            
            // CRITICAL: Immediately update canvas container opacity based on theme
            const canvasContainer = document.getElementById('canvas-container');
            if (canvasContainer) {
                // Force set opacity - this is critical for visibility
                if (theme === 'dark') {
                    canvasContainer.style.opacity = '1.0';
                    canvasContainer.style.setProperty('opacity', '1.0', 'important');
                } else {
                    canvasContainer.style.opacity = '0.6';
                }
            }

            // Mesh
            const particlesMesh = new THREE.Points(geometry, material);
            scene.add(particlesMesh);
            
            // Store reference globally for theme updates
            window.particlesMesh = particlesMesh;
            window.particlesMaterial = material;
            
            // Update particle color and size when theme changes
            function updateParticleColor() {
                const theme = document.body.getAttribute('data-theme') || 'light';
                // Use VERY bright fuchsia/pink for dark mode - maximum visibility
                const darkColor = 0xe879f9; // Very bright fuchsia (#e879f9) - almost white
                const lightColor = 0x7c3aed; // Purple
                
                if (material) {
                    material.color.setHex(theme === 'dark' ? darkColor : lightColor);
                    material.opacity = theme === 'dark' ? 1.0 : 0.8;
                    material.size = 0.03; // Same size in both light and dark mode
                    material.needsUpdate = true; // Force material update
                }
                
                // CRITICAL: Update canvas container opacity - this was making particles grey!
                const canvasContainer = document.getElementById('canvas-container');
                if (canvasContainer) {
                    // Force update opacity - this is the key fix
                    if (theme === 'dark') {
                        // Multiple ways to ensure opacity is 1.0
                        canvasContainer.style.opacity = '1.0';
                        canvasContainer.style.setProperty('opacity', '1.0', 'important');
                        canvasContainer.classList.add('dark-mode-canvas');
                    } else {
                        canvasContainer.style.opacity = '0.6';
                        canvasContainer.classList.remove('dark-mode-canvas');
                    }
                    // Also ensure canvas element is visible
                    const canvas = canvasContainer.querySelector('canvas');
                    if (canvas) {
                        canvas.style.opacity = '1.0';
                        canvas.style.display = 'block';
                        canvas.style.visibility = 'visible';
                    }
                }
            }
            
            // Store update function globally for theme switching
            window.updateParticleColor = updateParticleColor;
            
            // Call update immediately after initialization to ensure correct colors
            setTimeout(() => {
                updateParticleColor();
            }, 150);

            camera.position.z = 5;

            // Mouse Interaction
            let mouseX = 0;
            let mouseY = 0;

            document.addEventListener('mousemove', (event) => {
                mouseX = event.clientX / window.innerWidth - 0.5;
                mouseY = event.clientY / window.innerHeight - 0.5;
            });

            // Animation Loop
            const clock = new THREE.Clock();

            function animate() {
                requestAnimationFrame(animate);
                const elapsedTime = clock.getElapsedTime();

                particlesMesh.rotation.y = elapsedTime * 0.05;
                particlesMesh.rotation.x = mouseY * 0.5;
                particlesMesh.rotation.y += mouseX * 0.5;

                renderer.render(scene, camera);
            }
            animate();

            // Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        // --- 3. UI LOGIC ---
        
        let currentTier = 'all';
        let currentGender = 'all';

        // --- BRAND DATA (From V1) ---
        var brands = [
            { name: "Valary Skin", handle: "valaryskin.ma", image: "influncers images/valary.jpg" },
            { name: "LC Waikiki", handle: "lcwaikiki.morocco", image: "influncers images/lc_waikiki.png" },
            { name: "King Tacos", handle: "kingtacos_maarif", image: "influncers images/king tacos.jpg" },
            { name: "Bo Sushi", handle: "bosushi_casablanca", image: "influncers images/bo sushi.jpg" },
            { name: "Huawei", handle: "huaweimobilemaroc", image: "influncers images/huawei.png" },
            { name: "Mira Clinic", handle: "miraclinic.tr", image: "influncers images/mira clenic.jpg" },
            { name: "Health Power", handle: "healthpower_officiel", image: "influncers images/health power.jpg" },
            { name: "Muzz", handle: "muzz_maghreb", image: "influncers images/muzz.jpg" },
            { name: "Xiaomi", handle: "xiaomi.morocco", image: "influncers images/redmi.jpg" },
            { name: "Honor", handle: "honormorocco", image: "influncers images/honor.jpg" },
            { name: "Franui", handle: "franui.ma", image: "influncers images/franui.png" },
            { name: "Derma Doc", handle: "dermadocmaroc", image: "influncers images/derma doc.png" },
            { name: "Hadri Parfums", handle: "hadriparfums", image: "influncers images/hadri.jpg" },
            { name: "Maroc Skydive", handle: "maroc.skydive", image: "influncers images/maroc skydive.png" },
            { name: "Numero Arabia", handle: "numeroarabia", image: "influncers images/numero arabia.jpg" },
            { name: "Clay Oven", handle: "clay.oven", image: "https://scontent.fcmn1-4.fna.fbcdn.net/v/t39.30808-6/313402350_496956802468535_396301380351464085_n.png?_nc_cat=106&ccb=1-7&_nc_sid=6ee11a&_nc_eui2=AeHLjE-fXZwIbxc8Hqga4svbIeQHB50UotMh5AcHnRSi06FV4YTPyTnl4gsYrMtbz2p3Fk5nhaV88g7zslSlJ64X&_nc_ohc=_OxWRof2srMQ7kNvwEBJsd1&_nc_oc=Adm4Md8Mpc7NKddsNGp8_acb6pQxxf4IwHNemn4pNwZmwXWrgqjWbrToTR1lG0kicnI&_nc_zt=23&_nc_ht=scontent.fcmn1-4.fna&_nc_gid=uf9S9pJS2W_25DvQdbQZ6A&oh=00_AfqrEyjBU8cmQ9yatLzVpjmIikQgRi6c55S7i0nuVSj-nQ&oe=695EF0A7" },
            { name: "Palméa", handle: "palmeastore1", image: "https://image2url.com/r2/default/images/1767447023846-c06b3212-8500-4ddc-9db8-21be5fa99638.jpg" },
            { name: "Intoura", handle: "intoura.ma", image: "https://image2url.com/r2/default/images/1767447311590-62ec67d6-93db-4339-b600-141a4a2940ca.jpg" }
        ];

        // Render Brands (New Function for V1 style marquee)
        function renderBrands() {
            const brandMarquee = document.getElementById('brand-marquee');
            // Clone brands to create infinite loop effect
            const infiniteBrands = [...brands, ...brands];
            
            infiniteBrands.forEach(brand => {
                const div = document.createElement('a');
                div.href = `https://instagram.com/${brand.handle}`;
                div.target = "_blank";
                div.className = "inline-flex flex-col items-center justify-center mx-8 group cursor-pointer";
                // Using actual brand logos with theme-aware styling
                div.innerHTML = `
                    <div class="w-20 h-20 rounded-full overflow-hidden mb-3 transition-all" style="background-color: var(--bg-tertiary); border: 1px solid var(--border-color);">
                        <img src="${brand.image}" alt="${brand.name}" class="w-full h-full object-cover">
                    </div>
                    <span class="font-bold text-sm transition-colors" style="color: var(--text-secondary);">${brand.name}</span>
                `;
                // Add hover effect with theme awareness
                div.addEventListener('mouseenter', function() {
                    this.querySelector('div').style.borderColor = 'var(--text-primary)';
                    this.querySelector('span').style.color = 'var(--text-primary)';
                });
                div.addEventListener('mouseleave', function() {
                    this.querySelector('div').style.borderColor = 'var(--border-color)';
                    this.querySelector('span').style.color = 'var(--text-secondary)';
                });
                brandMarquee.appendChild(div);
            });
        }

        // --- COLLABORATION DATA ---
        var collaborations = [
            { id: "collab1", link: "https://www.instagram.com/reel/DS-aSYnDTkO/" }, // Clay Oven
            { id: "collab2", link: "https://www.instagram.com/reel/DI60PWrMUD3/" }, // Muzz
            { id: "collab3", link: "https://www.instagram.com/reel/DLKIjc_tDA8/" }, // Achraf
            { id: "collab4", link: "https://www.instagram.com/reel/DMTHRTGy8bQ/" }, // Issam
            { id: "collab5", link: "https://www.instagram.com/p/DOeK8jFAMdG/" },    // Muzz
            { id: "collab6", link: "https://www.instagram.com/p/DOeDrBVjPwL/" },    // Muzz
            { id: "collab7", link: "https://www.instagram.com/reel/DPribdmDFxE/" }, // Muzz
            { id: "collab8", link: "https://www.instagram.com/p/DO8m7BGAIPt/" },    // Muzz
            { id: "collab9", link: "https://www.instagram.com/reel/DS7q1VQjDfJ/" }, // Muzz
            { id: "collab10", link: "https://www.instagram.com/reel/DQw9TuiDVA8/" },// Huawei
            { id: "collab11", link: "https://www.instagram.com/reel/DS5PLLTjZ_c/" },// Muzz
            { id: "collab12", link: "https://www.instagram.com/reel/DSqQy3djPEq/" },// Palmea
            { id: "collab13", link: "https://www.instagram.com/reel/DSH5HTzDP0y/" },// Intoura
            { id: "collab14", link: "https://www.instagram.com/reel/DRpqs5NDWUq/" },// TRT
            { id: "collab15", link: "https://www.instagram.com/reel/DOl54G3DLnJ/" },// Valary
            { id: "collab16", link: "https://www.instagram.com/reel/DRFrCCADHa2/" },// Valary
            { id: "collab17", link: "https://www.instagram.com/reel/DPPCSVEjQrO/" },// LCW
            { id: "collab18", link: "https://www.instagram.com/reel/DRC1Rx2DYe7/" },// LCW
            { id: "collab19", link: "https://www.instagram.com/reel/DP7D83lDVI3/" } // LCW
        ];

        function renderCollaborations() {
            const grid = document.getElementById('collab-grid');
            if(!grid) return;
            
            // Render first 6 to keep performance good, or render all if needed. 
            // Rendering all 19 heavy iframes at once might slow down page load.
            // But fulfilling user request:
            collaborations.forEach(collab => {
                const wrapper = document.createElement('div');
                wrapper.className = "w-full flex justify-center";
                wrapper.innerHTML = `
                    <blockquote class="instagram-media" 
                        data-instgrm-permalink="${collab.link}" 
                        data-instgrm-version="14" 
                        style="background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);">
                    </blockquote>`;
                grid.appendChild(wrapper);
            });

            // Trigger Instagram Embed processing
            if (window.instgrm) {
                window.instgrm.Embeds.process();
            }
        }

        function filterByTier(tier) {
            currentTier = tier;
            // Update Tier Buttons with theme-aware styling
            document.querySelectorAll('.filter-btn-tier').forEach(btn => {
                const isActive = btn.textContent.includes(tier) || (tier === 'all' && btn.textContent.trim() === 'Tous');
                if(isActive) {
                    btn.classList.add('active');
                    btn.style.backgroundColor = 'var(--text-primary)';
                    btn.style.color = 'var(--bg-primary)';
                    btn.style.borderColor = 'var(--text-primary)';
                } else {
                    btn.classList.remove('active');
                    btn.style.backgroundColor = 'var(--bg-secondary)';
                    btn.style.color = 'var(--text-secondary)';
                    btn.style.borderColor = 'var(--border-color)';
                }
            });
            applyFilters();
        }

        function filterByGender(gender) {
            currentGender = gender;
            // Update Gender Buttons with theme-aware styling
            document.querySelectorAll('.filter-btn-gender').forEach(btn => {
                // Check if button text matches gender or specific logic for 'Tous'
                const btnText = btn.textContent.trim();
                const isMatch = btnText === gender || (gender === 'all' && btnText === 'Tous');
                
                if(isMatch) {
                    btn.classList.add('active');
                    btn.style.backgroundColor = 'var(--text-primary)';
                    btn.style.color = 'var(--bg-primary)';
                    btn.style.borderColor = 'var(--text-primary)';
                } else {
                    btn.classList.remove('active');
                    btn.style.backgroundColor = 'var(--bg-secondary)';
                    btn.style.color = 'var(--text-secondary)';
                    btn.style.borderColor = 'var(--border-color)';
                }
            });
            applyFilters();
        }

        function filterInfluencers() {
            applyFilters();
        }

        function applyFilters() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            
            const filtered = influencers.filter(inf => {
                const matchesSearch = inf.name.toLowerCase().includes(query) || inf.niche.toLowerCase().includes(query);
                const matchesTier = currentTier === 'all' || inf.tier === currentTier;
                
                let matchesGender = true;
                if (currentGender === 'Femmes') matchesGender = inf.gender === 'F';
                if (currentGender === 'Hommes') matchesGender = inf.gender === 'M';

                return matchesSearch && matchesTier && matchesGender;
            });

            renderGrid(filtered);
        }

        function renderGrid(list) {
            const grid = document.getElementById('influencer-grid');
            const noResults = document.getElementById('no-results');
            
            grid.innerHTML = '';

            if(list.length === 0) {
                noResults.classList.remove('hidden');
                return;
            }
            noResults.classList.add('hidden');

            list.forEach(inf => {
                const tierColor = inf.tier === 'Mega' ? 'bg-purple-600' : inf.tier === 'Macro' ? 'bg-blue-600' : inf.tier === 'Micro' ? 'bg-green-600' : 'bg-slate-600';
                
                const card = `
                    <div class="card-3d bg-white rounded-2xl overflow-hidden shadow-lg border border-slate-100 group relative dark-mode-card" style="background-color: var(--card-bg); border-color: var(--border-color);" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-glare data-tilt-max-glare="0.2">
                        <!-- Use aspect-square here for perfect square images -->
                        <div class="aspect-square relative overflow-hidden bg-slate-100" style="background-color: var(--bg-tertiary);">
                            <img src="${inf.image}" onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(inf.name).replace(/'/g, '%27')}&background=random'" alt="${inf.name}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"></div>
                            
                            <div class="absolute top-3 right-3 ${tierColor} text-white text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider shadow-sm">
                                ${inf.tier}
                            </div>
                            
                            <div class="absolute bottom-4 left-4 text-white">
                                <h3 class="font-bold text-lg leading-tight mb-0.5 truncate pr-4" title="${inf.name}">${inf.name}</h3>
                                <p class="text-slate-300 text-xs font-mono">@${inf.handle}</p>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-center mb-4">
                                <div>
                                    <p class="text-xs text-slate-400 font-bold uppercase tracking-wider" style="color: var(--text-tertiary);">Followers</p>
                                    <p class="font-bold text-slate-900" style="color: var(--text-primary);">${inf.followers}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-slate-400 font-bold uppercase tracking-wider" style="color: var(--text-tertiary);">Niche</p>
                                    <p class="font-medium text-slate-700 text-sm bg-slate-100 px-2 py-0.5 rounded-md inline-block truncate max-w-[120px]" style="color: var(--text-secondary); background-color: var(--bg-tertiary);">${inf.niche}</p>
                                </div>
                            </div>
                            <a href="https://instagram.com/${inf.handle}" target="_blank" class="block w-full text-center py-2.5 rounded-xl bg-slate-900 text-white text-sm font-bold hover:bg-purple-600 transition-colors flex items-center justify-center gap-2">
                                <i data-lucide="instagram" class="w-4 h-4"></i> View Profile
                            </a>
                        </div>
                    </div>
                `;
                grid.innerHTML += card;
            });
            
            // Re-init Icons & Tilt
            lucide.createIcons();
            VanillaTilt.init(document.querySelectorAll(".card-3d"));
        }

        // --- NEW: RENDER TOP TALENTS ON HOME PAGE ---
        function renderTopTalents() {
            const grid = document.getElementById('top-talents-grid');
            if(!grid) return;
            
            // Specific names requested
            const topNames = ["HBIRKOUSAFAE OFFICIEL", "FATIJAMALIOFFICIEL", "NOUHAILA BARBIE", "ZOUHAIRZAIR"];
            
            // Find them in our data
            const topTalents = influencers.filter(inf => topNames.includes(inf.name));
            
            grid.innerHTML = '';
            topTalents.forEach(inf => {
               const card = `
                <div class="relative rounded-2xl overflow-hidden aspect-[3/4] bg-slate-100 group cursor-pointer card-3d" onclick="showSection('catalog')" data-tilt data-tilt-max="10" data-tilt-speed="400">
                    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-10"></div>
                    <img src="${inf.image}" onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(inf.name).replace(/'/g, '%27')}'" alt="${inf.name}" class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
                    
                    <div class="absolute bottom-4 left-4 right-4 z-20 text-white transform transition-transform duration-300 group-hover:-translate-y-2">
                        <div class="bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20">
                            <h4 class="font-bold text-lg leading-tight mb-1 truncate">${inf.name}</h4>
                            <p class="text-slate-200 text-xs font-mono">+${inf.followers} Followers</p>
                        </div>
                    </div>
                </div>
               `;
               grid.innerHTML += card;
            });
            VanillaTilt.init(document.querySelectorAll(".card-3d"));
        }


        // --- 4. NAVIGATION ---
        function showSection(id) {
            // Hide all sections first
            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('catalog-view').classList.add('hidden');
            document.getElementById('brand-form-view').classList.add('hidden');
            document.getElementById('creator-form-view').classList.add('hidden');
            
            // Show requested section
            let targetId = id + '-view';
            if(id === 'home' || id === 'catalog') targetId = id + '-view';
            else targetId = id; // direct ID mapping for forms

            // Fix for cleaner ID mapping
            if(id === 'home') targetId = 'home-view';
            if(id === 'catalog') targetId = 'catalog-view';
            if(id === 'brand-form') targetId = 'brand-form-view';
            if(id === 'creator-form') targetId = 'creator-form-view';
            if(id === 'contact-view') targetId = 'brand-form-view'; // Default contact to brand form

            const target = document.getElementById(targetId);
            if(target) target.classList.remove('hidden');
            
            // Refresh catalog if needed
            if(id === 'catalog') {
                renderGrid(influencers); 
            }
            window.scrollTo(0,0);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('mobile-menu-icon');
            const isHidden = menu.classList.contains('hidden');
            
            menu.classList.toggle('hidden');
            
            // Toggle icon between menu and x
            if (menuIcon) {
                if (isHidden) {
                    // Menu is opening, change to X
                    menuIcon.setAttribute('data-lucide', 'x');
                } else {
                    // Menu is closing, change to menu
                    menuIcon.setAttribute('data-lucide', 'menu');
                }
                lucide.createIcons();
            }
        }
        
        // --- THEME MANAGEMENT ---
        function initTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
        }
        
        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
            localStorage.setItem('theme', newTheme);
        }
        
        function setTheme(theme) {
            document.body.setAttribute('data-theme', theme);
            updateLogo(theme);
            updateThemeIcon(theme);
            // Update 3D particles color if they exist
            if (window.updateParticleColor) {
                // Call multiple times to ensure it takes effect
                window.updateParticleColor();
                setTimeout(() => {
                    if (window.updateParticleColor) window.updateParticleColor();
                }, 100);
            }
            // Also directly update canvas container
            const canvasContainer = document.getElementById('canvas-container');
            if (canvasContainer) {
                if (theme === 'dark') {
                    canvasContainer.style.opacity = '1.0';
                    canvasContainer.classList.add('dark-mode-canvas');
                } else {
                    canvasContainer.style.opacity = '0.6';
                    canvasContainer.classList.remove('dark-mode-canvas');
                }
            }
        }
        
        function updateLogo(theme) {
            const logoMain = document.getElementById('logo-main');
            const logoFooter = document.getElementById('logo-footer');
            const footerArt = document.getElementById('footer-art');
            
            // Footer art image URLs
            const footerArtLight = 'https://image2url.com/r2/default/images/1767451458351-960b5df2-c9bd-4ecc-8343-0c4f56e5ce5e.png';
            const footerArtDark = 'logo_collabx_darkmode.png';
            
            if (theme === 'dark') {
                if (logoMain) logoMain.src = 'logo_collabx_darkmode.png';
                if (logoFooter) logoFooter.src = 'logo_collabx_darkmode.png';
                if (footerArt) footerArt.src = footerArtDark;
            } else {
                if (logoMain) logoMain.src = 'Logo_collabx.png';
                if (logoFooter) logoFooter.src = 'Logo_collabx.png';
                if (footerArt) footerArt.src = footerArtLight;
            }
        }
        
        function updateThemeIcon(theme) {
            const themeIcon = document.getElementById('theme-icon');
            const themeIconMobile = document.getElementById('theme-icon-mobile');
            
            if (theme === 'dark') {
                if (themeIcon) {
                    themeIcon.setAttribute('data-lucide', 'moon');
                    lucide.createIcons();
                }
                if (themeIconMobile) {
                    themeIconMobile.setAttribute('data-lucide', 'moon');
                    lucide.createIcons();
                }
            } else {
                if (themeIcon) {
                    themeIcon.setAttribute('data-lucide', 'sun');
                    lucide.createIcons();
                }
                if (themeIconMobile) {
                    themeIconMobile.setAttribute('data-lucide', 'sun');
                    lucide.createIcons();
                }
            }
        }
        
        // --- 5. WHATSAPP FORM LOGIC (BRAND) ---
        function sendBrandForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('b-name').value;
            const brand = document.getElementById('b-brand').value;
            const email = document.getElementById('b-email').value;
            const sector = document.getElementById('b-sector').value;
            const insta = document.getElementById('b-insta').value;
            const type = document.getElementById('b-type').value;
            const budget = document.getElementById('b-budget').value;
            
            const message = `*Nouvelle Demande MARQUE*%0A%0A` +
                            `👤 *Nom:* ${name}%0A` +
                            `🏢 *Marque:* ${brand}%0A` +
                            `📧 *Email:* ${email}%0A` +
                            `🏷️ *Secteur:* ${sector}%0A` +
                            `🔗 *Instagram:* ${insta}%0A` +
                            `🎯 *Type:* ${type}%0A` +
                            `💰 *Budget:* ${budget} DH`;
                            
            const phone = "212615191083";
            window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
        }

        // --- 6. WHATSAPP FORM LOGIC (CREATOR) ---
        function sendCreatorForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('c-name').value;
            const insta = document.getElementById('c-insta').value;
            const followers = document.getElementById('c-followers').value;
            const tiktok = document.getElementById('c-tiktok').value;
            const niche = document.getElementById('c-niche').value;
            
            const message = `*Nouvelle Candidature CRÉATEUR*%0A%0A` +
                            `👤 *Nom:* ${name}%0A` +
                            `📸 *Instagram:* ${insta}%0A` +
                            `👥 *Followers:* ${followers}%0A` +
                            (tiktok ? `🎵 *TikTok:* ${tiktok}%0A` : '') +
                            `🏷️ *Niche:* ${niche}`;
                            
            const phone = "212615191083";
            window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
        }

        // --- INIT ---
        window.onload = function() {
            initTheme(); // Initialize theme from localStorage - MUST be first
            // Small delay to ensure theme is applied before Three.js initializes
            setTimeout(() => {
                initThreeJS();
                // Update particles immediately after initialization
                if (window.updateParticleColor) {
                    window.updateParticleColor();
                }
            }, 50);
            renderTopTalents();
            renderBrands(); // Call brand rendering
            renderCollaborations(); // New Function call
            lucide.createIcons();
            
            // Add global style for tilt
            VanillaTilt.init(document.querySelectorAll(".card-3d"));
        };

    </script>
</body>
</html>